forward reference to registers (interpreted as a channel)
assembler hardening for range checks in labels
Should rval have indirection brackets for regs and chans?